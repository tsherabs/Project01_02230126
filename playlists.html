<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>དབྱངས། - Playlists</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="playlist.css">
</head>

<body>

    <!-- Sidebar -->
    <div class="sidebar d-none d-lg-block">
        <h5>Your Library</h5>
        <a href="index.html" class="active"><i class="fas fa-home"></i>Home</a>
        <a href="#"><i class="fas fa-search"></i>Discover</a>
        <a href="#"><i class="fas fa-list"></i>Playlists</a>
        <a href="settings.html"><i class="fas fa-cog"></i>Settings</a>
    </div>

    <div class="main-content">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid d-flex justify-content-between align-items-center">
                <!-- Brand Logo -->
                <a class="navbar-brand me-auto" href="#">
                    <span style="font-weight: 800; font-size: 2rem; color: white;">དབྱངས།</span>
                </a>

                <button class="navbar-toggler d-lg-none" type="button" id="sidebarToggle" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>

        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-content">
                <h1>Create Your Own Playlists</h1>
                <a href="#" class="hero-btn" data-bs-toggle="modal" data-bs-target="#createPlaylistModal">
                    <i class="fas fa-plus me-2"></i>Create New Playlist
                </a>
            </div>
        </div>

        <!-- Search Bar -->
        <div class="search-container">
            <div class="input-group">
                <span class="input-group-text bg-transparent border-0 text-light">
                    <i class="fas fa-search"></i>
                </span>
                <input type="text" class="search-input" placeholder="Search by playlist name, artist, or genre...">
            </div>
        </div>

        <!-- Playlists Section -->
        <div class="playlist-section">
            <h2 class="section-title">
                Your Playlists
            </h2>
            <div class="playlist-grid">
                <!-- Create New Playlist Card -->
                <div class="playlist-card create-playlist" data-bs-toggle="modal" data-bs-target="#createPlaylistModal">
                    <i class="fas fa-plus-circle"></i>
                    <p>Create New Playlist</p>
                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-6 col-lg-3 mb-4 mb-lg-0 footer-section">
                        <h5>Company</h5>
                        <ul>
                            <li><a href="#">About us</a></li>
                        </ul>
                    </div>

                    <div class="col-12 col-md-6 col-lg-3 mb-4 mb-lg-0 footer-section">
                        <h5>Communities</h5>
                        <ul>
                            <li><a href="#">For Artist</a></li>
                            <li><a href="#">Advertising</a></li>
                        </ul>
                    </div>

                    <div class="col-12 col-md-6 col-lg-3 mb-4 mb-lg-0 footer-section">
                        <h5>Useful Links</h5>
                        <ul>
                            <li><a href="#">Support</a></li>
                        </ul>
                    </div>

                    <div class="col-12 col-md-6 col-lg-3 mb-4 mb-lg-0 footer-section">
                        <h5>Plans</h5>
                        <ul>
                            <li><a href="#">Premium</a></li>
                            <li><a href="#">Premium Plus</a></li>
                            <li><a href="#">Free Plan</a></li>
                        </ul>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12">
                        <h5>Social</h5>
                        <div class="social-icons">
                            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>

                <div class="row copyright">
                    <div class="col-md-6">
                        <p>© 2025 Your Company. All Rights Reserved.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p><a href="#">Privacy</a> | <a href="#">Terms&Conditions</a> | <a href="#">Cookies</a></p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Create Playlist Modal -->
    <div class="modal fade" id="createPlaylistModal" tabindex="-1" aria-labelledby="createPlaylistModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createPlaylistModalLabel">Create New Playlist</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="createPlaylistForm">
                        <div class="mb-4">
                            <label for="playlistName" class="form-label">Playlist Name</label>
                            <input type="text" class="form-control" id="playlistName" placeholder="Enter playlist name"
                                required>
                        </div>

                        <div class="mb-4">
                            <label for="playlistGenre" class="form-label">Genre</label>
                            <select class="form-select" id="playlistGenre" required>
                                <option value="" selected disabled>Select a genre</option>
                                <option value="pop">Pop</option>
                                <option value="rock">Rock</option>
                                <option value="hiphop">Hip Hop</option>
                                <option value="rnb">R&B</option>
                                <option value="jazz">Jazz</option>
                                <option value="indie">Indie</option>
                                <option value="metal">Metal</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Playlist Cover</label>
                            <div class="cover-preview" id="coverPreview">
                                <img id="previewImage" src="" alt="Preview">
                                <div class="upload-placeholder">
                                    <i class="fas fa-image"></i>
                                    <p>Click to upload cover image</p>
                                    <small>Recommended: 600 x 600px</small>
                                </div>
                            </div>
                            <input type="file" class="form-control" id="coverImage" accept="image/*"
                                style="display: none;">
                            <button type="button" class="btn btn-outline-light w-100" id="uploadButton">Upload Cover
                                Image</button>
                        </div>

                        <div class="mb-3">
                            <label for="playlistDescription" class="form-label">Description (Optional)</label>
                            <textarea class="form-control" id="playlistDescription" rows="3"
                                placeholder="Add a description for your playlist"></textarea>
                        </div>

                        <div class="form-check mb-4">
                            <input class="form-check-input" type="checkbox" id="publicPlaylist">
                            <label class="form-check-label" for="publicPlaylist">
                                Make this playlist public
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-create" id="createPlaylistBtn">Create Playlist</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script to handle form submission and preview image -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Handle click on the upload button
            document.getElementById('uploadButton').addEventListener('click', function () {
                document.getElementById('coverImage').click();
            });

            // Handle file selection
            document.getElementById('coverImage').addEventListener('change', function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const previewImage = document.getElementById('previewImage');
                        previewImage.src = e.target.result;
                        previewImage.style.display = 'block';
                        document.querySelector('.upload-placeholder').style.display = 'none';
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Handle cover preview click
            document.getElementById('coverPreview').addEventListener('click', function () {
                document.getElementById('coverImage').click();
            });

            // Handle create playlist button click
            document.getElementById('createPlaylistBtn').addEventListener('click', function () {
                const form = document.getElementById('createPlaylistForm');
                const playlistName = document.getElementById('playlistName').value;
                const playlistGenre = document.getElementById('playlistGenre').value;
                const playlistDescription = document.getElementById('playlistDescription').value;
                const isPublic = document.getElementById('publicPlaylist').checked;

                // Simple validation
                if (!playlistName || !playlistGenre) {
                    alert('Please fill in all required fields.');
                    return;
                }

                // Create a new playlist card
                createPlaylistCard(playlistName, playlistGenre, playlistDescription);

                // Close the modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('createPlaylistModal'));
                modal.hide();

                // Reset the form
                form.reset();
                document.getElementById('previewImage').style.display = 'none';
                document.querySelector('.upload-placeholder').style.display = 'block';
            });

            // Function to create a new playlist card
            function createPlaylistCard(name, genre, description) {
                // Create a new playlist card element
                const playlistCard = document.createElement('div');
                playlistCard.className = 'playlist-card';

                // Create the image element
                const img = document.getElementById('previewImage').src || '/api/placeholder/220/180';
                const imgElement = document.createElement('img');
                imgElement.src = img;
                imgElement.alt = name;
                imgElement.className = 'playlist-img';

                // Create the info div
                const infoDiv = document.createElement('div');
                infoDiv.className = 'playlist-info';

                // Create the title
                const titleElement = document.createElement('h5');
                titleElement.className = 'playlist-title';
                titleElement.textContent = name;

                // Create the description
                const descriptionElement = document.createElement('p');
                descriptionElement.className = 'playlist-description';
                descriptionElement.textContent = `${genre} • 0 songs`;

                // Append elements
                infoDiv.appendChild(titleElement);
                infoDiv.appendChild(descriptionElement);
                playlistCard.appendChild(imgElement);
                playlistCard.appendChild(infoDiv);

                // Add the card after the create playlist card
                const createPlaylistCard = document.querySelector('.create-playlist');
                createPlaylistCard.parentNode.insertBefore(playlistCard, createPlaylistCard.nextSibling);

                // Alert the user
                setTimeout(() => {
                    alert(`Playlist "${name}" created successfully!`);
                }, 500);
            }

            // Handle hero button click to open modal
            document.querySelector('.hero-btn').addEventListener('click', function (e) {
                e.preventDefault();
                // The data-bs-toggle and data-bs-target attributes will handle opening the modal
            });

            const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.querySelector('.main-content');
        
        if (sidebarToggle) {
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('d-none');
                sidebar.classList.toggle('d-block');
                sidebar.classList.toggle('open');
                mainContent.classList.toggle('shift');
            });
        }
        });
    </script>
</body>

</html>
